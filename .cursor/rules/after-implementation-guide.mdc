---
description: after implementation
globs: 
alwaysApply: false
---
# 実装後のレビュー・修正ガイド

AIエージェントによる実装後のレビューと修正方法について述べる。

## 前提条件
- 設計書、実装指示書については [implementation-guide.mdc](mdc:.cursor/rules/implementation-guide.mdc) の定義を参照。
- {{デザイン名}}を知っていること。知らなければユーザーに聞く。
- {{デザイン名}}に該当する{{設計書}}が存在すること
- その{{設計書}}から作成した{{実装指示書}}が存在すること
- {{実装指示書}}からAIエージェントが生成した{{ソースコード}}が存在すること

## トリガー
実装後レビュー

## ワークフロー
- **調査** {{ソースコード}}を読み込み、{{設計書}}との{{差異}}を以下の視点で調べ、把握する。
  - **成果物** {{設計書}}が示す成果物と、{{ソースコード}}ファイルとの違い
  - **構造** {{設計書}}の構造と、{{ソースコード}}の構造との違い。依存関係も調べる
  - **インプットとアウトプット** {{設計書}}のインプット、アウトプットと{{ソースコード}}のインプット、アウトプットとの違い
  - **テスト** {{ソースコード}}の単体テスト、結合テストが存在する場合、それらのテストを実行して合否を調べる。
- **{{差異}}修正** 調べた{{差異}}によって、以下のいずれか、または両方に進む
  - **{{差異}}が大きい場合** 成果物の一部が丸ごと存在しなかったり、実装内容が指示と大幅に異なる等、差異が大きい場合はその成果物を生み出す{{実装指示書}}を使い、AIエージェントに再実装させる。その際、失敗確率を減らすよう{{実装指示書}}を改良する。
  - **{{差異}}が小さい場合** 小さな修正で{{設計書}}との差異を埋めることができると判断できる場合、あなた自身で修正する。不明点は必ずユーザーに問い合わせながら進める。
- **{{レビュー}}** {{差異}}修正の結果を調査、レビューする。レビュー後、まだ修正が必要と判断したら{{差異}}修正を繰り返す。

